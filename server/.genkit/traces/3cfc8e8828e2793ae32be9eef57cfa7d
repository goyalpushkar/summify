{"traceId":"3cfc8e8828e2793ae32be9eef57cfa7d","spans":{"b2292f0f354e6e48":{"spanId":"b2292f0f354e6e48","traceId":"3cfc8e8828e2793ae32be9eef57cfa7d","parentSpanId":"969e9f0ea32d8ff6","startTime":1747423668948,"endTime":1747423670162.5664,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"model","genkit:name":"googleai/gemini-2.0-flash","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{getVideoCaptionsFlow,t:flow}/{generate,t:util}/{googleai/gemini-2.0-flash,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are an expert video caption generator. Please generate captions for the following video.\\nVideo URL: https://www.youtube.com/watch?v=xLORsLlcT48\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"captions\":{\"type\":\"string\",\"description\":\"The generated captions for the video.\"}},\"required\":[\"captions\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\n  \\\"captions\\\": \\\"Unfortunately, I do not have the capability to generate captions for the video as I am unable to access external websites or specific files online, including the one you cited from YouTube.\\\"\\n}\"}]},\"finishReason\":\"stop\",\"custom\":{}}],\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\n  \\\"captions\\\": \\\"Unfortunately, I do not have the capability to generate captions for the video as I am unable to access external websites or specific files online, including the one you cited from YouTube.\\\"\\n}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"avgLogprobs\":-0.21905331081814236}],\"usageMetadata\":{\"promptTokenCount\":53,\"candidatesTokenCount\":45,\"totalTokenCount\":98,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":53}],\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":45}]},\"modelVersion\":\"gemini-2.0-flash\"},\"usage\":{\"inputCharacters\":147,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":209,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":53,\"outputTokens\":45,\"totalTokens\":98},\"latencyMs\":1213.6360470000072}","genkit:state":"success"},"displayName":"googleai/gemini-2.0-flash","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"969e9f0ea32d8ff6":{"spanId":"969e9f0ea32d8ff6","traceId":"3cfc8e8828e2793ae32be9eef57cfa7d","parentSpanId":"df4b3d92ce99efc9","startTime":1747423668662,"endTime":1747423670362.319,"attributes":{"genkit:type":"util","genkit:name":"generate","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{getVideoCaptionsFlow,t:flow}/{generate,t:util}","genkit:input":"{\"model\":\"googleai/gemini-2.0-flash\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are an expert video caption generator. Please generate captions for the following video.\\nVideo URL: https://www.youtube.com/watch?v=xLORsLlcT48\"}]}],\"config\":{},\"output\":{\"schema\":{\"_def\":{\"unknownKeys\":\"strip\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null},\"format\":\"json\",\"jsonSchema\":{\"type\":\"object\",\"properties\":{\"captions\":{\"type\":\"string\",\"description\":\"The generated captions for the video.\"}},\"required\":[\"captions\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\n  \\\"captions\\\": \\\"Unfortunately, I do not have the capability to generate captions for the video as I am unable to access external websites or specific files online, including the one you cited from YouTube.\\\"\\n}\"}]},\"finishReason\":\"stop\",\"usage\":{\"inputCharacters\":147,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":209,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":53,\"outputTokens\":45,\"totalTokens\":98},\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\n  \\\"captions\\\": \\\"Unfortunately, I do not have the capability to generate captions for the video as I am unable to access external websites or specific files online, including the one you cited from YouTube.\\\"\\n}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"avgLogprobs\":-0.21905331081814236}],\"usageMetadata\":{\"promptTokenCount\":53,\"candidatesTokenCount\":45,\"totalTokenCount\":98,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":53}],\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":45}]},\"modelVersion\":\"gemini-2.0-flash\"},\"request\":{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are an expert video caption generator. Please generate captions for the following video.\\nVideo URL: https://www.youtube.com/watch?v=xLORsLlcT48\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"captions\":{\"type\":\"string\",\"description\":\"The generated captions for the video.\"}},\"required\":[\"captions\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}}","genkit:state":"success"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"df4b3d92ce99efc9":{"spanId":"df4b3d92ce99efc9","traceId":"3cfc8e8828e2793ae32be9eef57cfa7d","parentSpanId":"f1cde9378975094b","startTime":1747423668642,"endTime":1747423670366.7642,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"getVideoCaptionsFlow","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{getVideoCaptionsFlow,t:flow,s:flow}","genkit:input":"{\"videoUrl\":\"https://www.youtube.com/watch?v=xLORsLlcT48\"}","genkit:output":"{\"captions\":\"\"}","genkit:state":"success"},"displayName":"getVideoCaptionsFlow","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"a2e237619f719d24":{"spanId":"a2e237619f719d24","traceId":"3cfc8e8828e2793ae32be9eef57cfa7d","parentSpanId":"bdfd5275afac564e","startTime":1747423670385,"endTime":1747423672107.1877,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"model","genkit:name":"openai/gpt-4o","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{generate,t:util}/{openai/gpt-4o,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are a professional summarizer. \\n  Please summarize the recevied } to the medium}\"},{\"text\":\"Output should be in JSON format and conform to the following schema:\\n\\n```\\n{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"summary\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"The summarized text.\\\"}},\\\"required\\\":[\\\"summary\\\"],\\\"additionalProperties\\\":true,\\\"$schema\\\":\\\"http://json-schema.org/draft-07/schema#\\\"}\\n```\\n\",\"metadata\":{\"purpose\":\"output\"}}]}],\"config\":{},\"tools\":[{\"name\":\"getVideoCaptions\",\"description\":\"Get captions for a video.\",\"outputSchema\":{\"type\":\"string\",\"description\":\"The generated captions for the video.\",\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"videoUrl\":{\"type\":\"string\",\"description\":\"The URL of the video.\"}},\"required\":[\"videoUrl\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}},{\"name\":\"getWebCations\",\"description\":\"Get text content from a web or wiki page.\",\"outputSchema\":{\"type\":\"string\",\"description\":\"The generated text content from the web/wiki page.\",\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"webUrl\":{\"type\":\"string\",\"description\":\"The URL of the web/wiki.\"}},\"required\":[\"webUrl\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}],\"output\":{\"constrained\":false}}","genkit:state":"error"},"displayName":"openai/gpt-4o","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors."},"timeEvents":{"timeEvent":[{"time":1747423672106.837,"annotation":{"attributes":{"exception.type":"insufficient_quota","exception.message":"429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","exception.stacktrace":"Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\n    at Function.generate (/home/user/studio/server/node_modules/openai/src/error.ts:96:14)\n    at OpenAI.makeStatusError (/home/user/studio/server/node_modules/openai/src/core.ts:462:21)\n    at OpenAI.makeRequest (/home/user/studio/server/node_modules/openai/src/core.ts:526:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"},"description":"exception"}}]}},"bdfd5275afac564e":{"spanId":"bdfd5275afac564e","traceId":"3cfc8e8828e2793ae32be9eef57cfa7d","parentSpanId":"f1cde9378975094b","startTime":1747423670381,"endTime":1747423672110.555,"attributes":{"genkit:type":"util","genkit:name":"generate","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{generate,t:util}","genkit:input":"{\"model\":\"openai/gpt-4o\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are a professional summarizer. \\n  Please summarize the recevied } to the medium}\"}]}],\"tools\":[\"/tool/getVideoCaptions\",\"/tool/getWebCations\"],\"config\":{},\"output\":{\"schema\":{\"_def\":{\"unknownKeys\":\"strip\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null},\"format\":\"json\",\"jsonSchema\":{\"type\":\"object\",\"properties\":{\"summary\":{\"type\":\"string\",\"description\":\"The summarized text.\"}},\"required\":[\"summary\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:state":"error"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors."},"timeEvents":{"timeEvent":[{"time":1747423672110.4272,"annotation":{"attributes":{"exception.type":"insufficient_quota","exception.message":"429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","exception.stacktrace":"Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\n    at Function.generate (/home/user/studio/server/node_modules/openai/src/error.ts:96:14)\n    at OpenAI.makeStatusError (/home/user/studio/server/node_modules/openai/src/core.ts:462:21)\n    at OpenAI.makeRequest (/home/user/studio/server/node_modules/openai/src/core.ts:526:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"},"description":"exception"}}]}},"f1cde9378975094b":{"spanId":"f1cde9378975094b","traceId":"3cfc8e8828e2793ae32be9eef57cfa7d","startTime":1747423667774,"endTime":1747423672115.4143,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"adjustSummaryLengthFlow","genkit:isRoot":true,"genkit:path":"/{adjustSummaryLengthFlow,t:flow}","genkit:metadata:context":"{}","genkit:input":"{\"text\":\"https://www.youtube.com/watch?v=xLORsLlcT48\",\"length\":\"medium\"}","genkit:output":"{\"summary\":\"\"}","genkit:state":"success"},"displayName":"adjustSummaryLengthFlow","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}}},"displayName":"adjustSummaryLengthFlow","startTime":1747423667774,"endTime":1747423672115.4143}