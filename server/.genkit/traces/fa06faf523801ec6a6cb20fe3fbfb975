{"traceId":"fa06faf523801ec6a6cb20fe3fbfb975","spans":{"06572f61675e7084":{"spanId":"06572f61675e7084","traceId":"fa06faf523801ec6a6cb20fe3fbfb975","parentSpanId":"95f33cda231c61c4","startTime":1747423828112,"endTime":1747423829006.7244,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"model","genkit:name":"googleai/gemini-2.0-flash","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{getVideoCaptionsFlow,t:flow}/{generate,t:util}/{googleai/gemini-2.0-flash,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are an expert video caption generator. Please generate captions for the following video.\\nVideo URL: https://www.youtube.com/watch?v=0vBKv9yAQi4\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"captions\":{\"type\":\"string\",\"description\":\"The generated captions for the video.\"}},\"required\":[\"captions\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\n  \\\"captions\\\": \\\"Unfortunately, I am unable to access the content of URLs, so I am unable to generate captions for the video at the provided URL. \\\"\\n}\"}]},\"finishReason\":\"stop\",\"custom\":{}}],\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\n  \\\"captions\\\": \\\"Unfortunately, I am unable to access the content of URLs, so I am unable to generate captions for the video at the provided URL. \\\"\\n}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"avgLogprobs\":-0.15492281160856547}],\"usageMetadata\":{\"promptTokenCount\":54,\"candidatesTokenCount\":38,\"totalTokenCount\":92,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":54}],\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":38}]},\"modelVersion\":\"gemini-2.0-flash\"},\"usage\":{\"inputCharacters\":147,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":149,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":54,\"outputTokens\":38,\"totalTokens\":92},\"latencyMs\":894.3696800000034}","genkit:state":"success"},"displayName":"googleai/gemini-2.0-flash","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"95f33cda231c61c4":{"spanId":"95f33cda231c61c4","traceId":"fa06faf523801ec6a6cb20fe3fbfb975","parentSpanId":"ac38006a54ac5d8e","startTime":1747423828109,"endTime":1747423829010.8225,"attributes":{"genkit:type":"util","genkit:name":"generate","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{getVideoCaptionsFlow,t:flow}/{generate,t:util}","genkit:input":"{\"model\":\"googleai/gemini-2.0-flash\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are an expert video caption generator. Please generate captions for the following video.\\nVideo URL: https://www.youtube.com/watch?v=0vBKv9yAQi4\"}]}],\"config\":{},\"output\":{\"schema\":{\"_def\":{\"unknownKeys\":\"strip\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null},\"format\":\"json\",\"jsonSchema\":{\"type\":\"object\",\"properties\":{\"captions\":{\"type\":\"string\",\"description\":\"The generated captions for the video.\"}},\"required\":[\"captions\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\n  \\\"captions\\\": \\\"Unfortunately, I am unable to access the content of URLs, so I am unable to generate captions for the video at the provided URL. \\\"\\n}\"}]},\"finishReason\":\"stop\",\"usage\":{\"inputCharacters\":147,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":149,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":54,\"outputTokens\":38,\"totalTokens\":92},\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\n  \\\"captions\\\": \\\"Unfortunately, I am unable to access the content of URLs, so I am unable to generate captions for the video at the provided URL. \\\"\\n}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"avgLogprobs\":-0.15492281160856547}],\"usageMetadata\":{\"promptTokenCount\":54,\"candidatesTokenCount\":38,\"totalTokenCount\":92,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":54}],\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":38}]},\"modelVersion\":\"gemini-2.0-flash\"},\"request\":{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are an expert video caption generator. Please generate captions for the following video.\\nVideo URL: https://www.youtube.com/watch?v=0vBKv9yAQi4\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"captions\":{\"type\":\"string\",\"description\":\"The generated captions for the video.\"}},\"required\":[\"captions\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}}","genkit:state":"success"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"ac38006a54ac5d8e":{"spanId":"ac38006a54ac5d8e","traceId":"fa06faf523801ec6a6cb20fe3fbfb975","parentSpanId":"3a3e6b22ba84a0b0","startTime":1747423828106,"endTime":1747423829015.5273,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"getVideoCaptionsFlow","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{getVideoCaptionsFlow,t:flow,s:flow}","genkit:input":"{\"videoUrl\":\"https://www.youtube.com/watch?v=0vBKv9yAQi4\"}","genkit:output":"{\"captions\":\"\"}","genkit:state":"success"},"displayName":"getVideoCaptionsFlow","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"a45d6a8dd1c0750f":{"spanId":"a45d6a8dd1c0750f","traceId":"fa06faf523801ec6a6cb20fe3fbfb975","parentSpanId":"10de7ae3f2316f0b","startTime":1747423829021,"endTime":1747423830617.7493,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"model","genkit:name":"openai/gpt-4o","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{generate,t:util}/{openai/gpt-4o,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are a professional summarizer. \\n  Please summarize the recevied } to the medium}\"},{\"text\":\"Output should be in JSON format and conform to the following schema:\\n\\n```\\n{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"summary\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"The summarized text.\\\"}},\\\"required\\\":[\\\"summary\\\"],\\\"additionalProperties\\\":true,\\\"$schema\\\":\\\"http://json-schema.org/draft-07/schema#\\\"}\\n```\\n\",\"metadata\":{\"purpose\":\"output\"}}]}],\"config\":{},\"tools\":[{\"name\":\"getVideoCaptions\",\"description\":\"Get captions for a video.\",\"outputSchema\":{\"type\":\"string\",\"description\":\"The generated captions for the video.\",\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"videoUrl\":{\"type\":\"string\",\"description\":\"The URL of the video.\"}},\"required\":[\"videoUrl\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}},{\"name\":\"getWebCations\",\"description\":\"Get text content from a web or wiki page.\",\"outputSchema\":{\"type\":\"string\",\"description\":\"The generated text content from the web/wiki page.\",\"$schema\":\"http://json-schema.org/draft-07/schema#\"},\"inputSchema\":{\"type\":\"object\",\"properties\":{\"webUrl\":{\"type\":\"string\",\"description\":\"The URL of the web/wiki.\"}},\"required\":[\"webUrl\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}],\"output\":{\"constrained\":false}}","genkit:state":"error"},"displayName":"openai/gpt-4o","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors."},"timeEvents":{"timeEvent":[{"time":1747423830617.5942,"annotation":{"attributes":{"exception.type":"insufficient_quota","exception.message":"429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","exception.stacktrace":"Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\n    at Function.generate (/home/user/studio/server/node_modules/openai/src/error.ts:96:14)\n    at OpenAI.makeStatusError (/home/user/studio/server/node_modules/openai/src/core.ts:462:21)\n    at OpenAI.makeRequest (/home/user/studio/server/node_modules/openai/src/core.ts:526:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"},"description":"exception"}}]}},"10de7ae3f2316f0b":{"spanId":"10de7ae3f2316f0b","traceId":"fa06faf523801ec6a6cb20fe3fbfb975","parentSpanId":"3a3e6b22ba84a0b0","startTime":1747423829020,"endTime":1747423830621.7874,"attributes":{"genkit:type":"util","genkit:name":"generate","genkit:path":"/{adjustSummaryLengthFlow,t:flow}/{generate,t:util}","genkit:input":"{\"model\":\"openai/gpt-4o\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are a professional summarizer. \\n  Please summarize the recevied } to the medium}\"}]}],\"tools\":[\"/tool/getVideoCaptions\",\"/tool/getWebCations\"],\"config\":{},\"output\":{\"schema\":{\"_def\":{\"unknownKeys\":\"strip\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null},\"format\":\"json\",\"jsonSchema\":{\"type\":\"object\",\"properties\":{\"summary\":{\"type\":\"string\",\"description\":\"The summarized text.\"}},\"required\":[\"summary\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:state":"error"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors."},"timeEvents":{"timeEvent":[{"time":1747423830621.6677,"annotation":{"attributes":{"exception.type":"insufficient_quota","exception.message":"429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","exception.stacktrace":"Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\n    at Function.generate (/home/user/studio/server/node_modules/openai/src/error.ts:96:14)\n    at OpenAI.makeStatusError (/home/user/studio/server/node_modules/openai/src/core.ts:462:21)\n    at OpenAI.makeRequest (/home/user/studio/server/node_modules/openai/src/core.ts:526:24)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"},"description":"exception"}}]}},"3a3e6b22ba84a0b0":{"spanId":"3a3e6b22ba84a0b0","traceId":"fa06faf523801ec6a6cb20fe3fbfb975","startTime":1747423827459,"endTime":1747423830624.3271,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"adjustSummaryLengthFlow","genkit:isRoot":true,"genkit:path":"/{adjustSummaryLengthFlow,t:flow}","genkit:metadata:context":"{}","genkit:input":"{\"text\":\"https://www.youtube.com/watch?v=0vBKv9yAQi4\",\"length\":\"medium\"}","genkit:output":"{\"summary\":\"\"}","genkit:state":"success"},"displayName":"adjustSummaryLengthFlow","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}}},"displayName":"adjustSummaryLengthFlow","startTime":1747423827459,"endTime":1747423830624.3271}